{
    "linters": {
        "clang-format": {
            "type": "clang-format",
            "bin": ["./.linters/clang-format", "./install_linters.sh"],
            "include": "(\\.(c|cpp|C|cc|c\\+\\+|cxx|h|hpp)$)",
            "exclude": [
              "(\\.inc.h$)",
              "(\\.inc.hpp$)",
              "(^docs/.*)"
            ]
        },
        "cpplint": {
            "type": "cpplint",
            "bin": ["./.linters/cpplint", "./install_linters.sh"],
            "flags": ["--root=include"],
            "include": "(\\.(c|cpp|C|cc|c\\+\\+|cxx|h|hpp)$)",
            "exclude": [
              "(\\.inc.h$)",
              "(\\.inc.hpp$)",
              "(^docs/.*)"
            ],
            "severity": {
              "runtime/references": "disabled",
              "build/c++11": "disabled",
              "build/header_guard": "disabled",
              "whitespace/comments": "disabled",
              "whitespace/indent": "disabled"
            }
        },
        "yapf": {
            "type": "yapf",
            "bin": ["./.linters/yapf", "./install_linters.sh"],
            "include": "(\\.py$)",
            "exclude": "(^docs/.*)"
        },
        "clang-tidy":{
          "type": "script-and-regex",
          "include": "(\\.(c|cpp|C|cc|c\\+\\+|cxx|h|hpp)$)",
          "exclude": [
            "(\\.inc.h$)",
            "(\\.inc.hpp$)",
            "(^docs/.*)"
          ],
          "script-and-regex.script": "sh -c '{ .linters/clang-tidy --fix $0 -- -I.linters/include/ -I.linters/clang_include/ -Ipopart_compiler/include -Ipoptorch/shared/include -Ipoptorch/include -Ipoptorch_logging/include -I../spdlog/spdlog/include/ -DONNX_NAMESPACE=onnx -I.linters/torch/include -I../popart/popart/willow/include/ -I.linters/poplar_includes/ `cat .linters/python_includes` -std=c++17; } || true'",
          "script-and-regex.regex": "/^(?P<file>[^ :]*):(?P<line>[^:]+):(?P<char>[^:]+): (?P<severity>[^:]+): (?P<message>.*)\\[(?P<name>.+)\\]$/m"
        },
        "copyright":{
          "type": "script-and-regex",
          "include": "(\\.(c|cpp|C|cc|c\\+\\+|cxx|h|hpp|py|inc)$)",
          "script-and-regex.script": "sh -c 'grep -qi -m1 -e \"copyright.*graphcore\" $0 || echo \"$0: Graphcore copyright notice missing\"'",
          "script-and-regex.regex": "/^(?P<file>[^ :]*): (?P<message>.*)$/m"
        }
    }
}
